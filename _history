{"entries":[{"timestamp":1755996130491,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":49412,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":16738,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":203,"length1":35,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1755996327158,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":7772,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</variable><variable id=\"0ivl:s]}}9MTRc:msVEL\">result</variable><variable id=\".0^n+g#PX$;iL:WG]mY[\">_KEYBOARD_CHANGE_EVENT</variable><variable id=\"D+2GKkoWzZmBPV]N{.(H\">_KEYBOARD_ENTER_EVENT</variable><variable id=\"4PVC?$l}Jn|dvbp|KnXZ\">_KEYBOARD_CANCEL_EVENT</variable><variable id=\"n155seI^}c~8ftZYY$AY\">PADDING</variable><variable id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</variable><variable id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</variable><variable id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</variable><variable id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</variable><variable id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</variable><variable id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</variable><variable id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</variable><variable id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</variable><variable id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</variable><variable id=\"vChHWeq3LtR%)97e:T~/\">LETTER_OFFSET_X</variable><variable id=\"J7d}4:mrY^[GdH+Vf(+*\">LETTER_OFFSET_Y</variable><variable id=\"n`#Sfjx3],XTu][-=cyr\">BLANK_PADDING</variable><variable id=\"n|=Bo,s9U6lnjV:}Yt@1\">ROW_LEFT</variable><variable id=\"PKLP=B%wW?wo!r+]l_hQ\">BOTTOM_BAR_ALPHABET_MARGIN</variable><variable id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</variable><variable id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</variable><variable id=\"F#u8Ldt_NX01x3@#tw)Q\">BOTTOM_BAR_TEXT_Y</variable><variable id=\"73V.CYnWc-w8YMXV:mne\">BOTTOM_BAR_SHIFT_X</variable><variable id=\"S5NjhI@3kkVT{v(#!9sz\">BOTTOM_BAR_CONFIRM_X</variable><variable id=\"Fpg3mQr#7TyiME9l1/^q\">CONFIRM_BUTTON_LEFT</variable><variable id=\"$y@~XWLSDKgV~4o7iOre\">ALPHABET_HEIGHT</variable><variable id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</variable><variable id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</variable><variable id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</variable><variable id=\"Rn[o)GjkOv3V%a(%SRNU\">INPUT_TOP</variable><variable id=\"H2xJ)U;NxBehVNe%a2Vy\">lowerShiftText</variable><variable id=\"OkMol|)Q]N^o@Mw+5;k|\">upperShiftText</variable><variable id=\"E2.Rad(:igJ8Db]bf?/]\">confirmText</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\".0^n+g#PX$;iL:WG]mY[\">_KEYBOARD_CHANGE_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7339</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D+2GKkoWzZmBPV]N{.(H\">_KEYBOARD_ENTER_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7340</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4PVC?$l}Jn|dvbp|KnXZ\">_KEYBOARD_CANCEL_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7341</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"interface PromptTheme {\" line1=\"        colorPrompt: number;\" line2=\"        colorInput: number;\" line3=\"        colorInputHighlighted: number;\" line4=\"        colorInputText: number;\" line5=\"        colorAlphabet: number;\" line6=\"        colorCursor: number;\" line7=\"        colorBackground: number;\" line8=\"        colorBottomBackground: number;\" line9=\"        colorBottomText: number;\" line10=\"    }\" numlines=\"11\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const font = image.font8;\" numlines=\"1\" declaredvars=\"font\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">12</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">ceil</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.width</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.height</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of a \"cell\" that contains a letter\n"]]},{"start1":22152,"length1":27258,"diffs":[[1,"% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Rn[o)GjkOv3V%a(%SRNU\">INPUT_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"H2xJ)U;NxBehVNe%a2Vy\">lowerShiftText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ABC</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"OkMol|)Q]N^o@Mw+5;k|\">upperShiftText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">abc</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"10\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">,</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">.</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">?</field></shadow></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">!</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">;</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">\"</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">(</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">)</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E2.Rad(:igJ8Db]bf?/]\">confirmText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OK</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"class Prompt {\" line1=\"        theme: PromptTheme;\" line2=\"\" line3=\"        message: string;\" line4=\"        answerLength: number;\" line5=\"        result: string;\" line6=\"\" line7=\"        protected confirmPressed: boolean;\" line8=\"        protected cursorRow: number;\" line9=\"        protected cursorColumn: number;\" line10=\"        protected upper: boolean;\" line11=\"        protected useSystemKeyboard: boolean;\" line12=\"\" line13=\"        protected renderable: scene.Renderable;\" line14=\"        protected selectionStart: number;\" line15=\"        protected selectionEnd: number;\" line16=\"\" line17=\"        protected keyboardRows: number;\" line18=\"        protected keyboardColumns: number;\" line19=\"\" line20=\"        private changeTime = 0;\" line21=\"\" line22=\"        constructor(theme?: PromptTheme) {\" line23=\"            if (theme) {\" line24=\"                this.theme = theme;\" line25=\"            }\" line26=\"            else {\" line27=\"                this.theme = {\" line28=\"                    colorPrompt: 1,\" line29=\"                    colorInput: 3,\" line30=\"                    colorInputHighlighted: 5,\" line31=\"                    colorInputText: 1,\" line32=\"                    colorAlphabet: 1,\" line33=\"                    colorCursor: 7,\" line34=\"                    colorBackground: 15,\" line35=\"                    colorBottomBackground: 3,\" line36=\"                    colorBottomText: 1,\" line37=\"                };\" line38=\"            }\" line39=\"            this.cursorRow = 0;\" line40=\"            this.cursorColumn = 0;\" line41=\"            this.upper = false;\" line42=\"            this.result = &quot;&quot;;\" line43=\"            this.keyboardColumns = ALPHABET_ROW_LENGTH;\" line44=\"            this.keyboardRows = NUM_ROWS;\" line45=\"            this.selectionStart = 0;\" line46=\"            this.selectionEnd = 0;\" line47=\"        }\" line48=\"\" line49=\"        show(message: string, answerLength: number, useOnScreenKeyboard = false) {\" line50=\"            this.message = message;\" line51=\"            this.answerLength = answerLength;\" line52=\"\" line53=\"            controller._setUserEventsEnabled(false);\" line54=\"            game.pushScene()\" line55=\"\" line56=\"            this.createRenderable();\" line57=\"            this.confirmPressed = false;\" line58=\"\" line59=\"            if (!useOnScreenKeyboard &amp;&amp; control.deviceDalVersion() === &quot;sim&quot; &amp;&amp; helpers._isSystemKeyboardSupported()) {\" line60=\"                this.useSystemKeyboard = true;\" line61=\"                helpers._promptForText(this.answerLength, this.numbersOnly());\" line62=\"                this.selectionEnd = 0;\" line63=\"                this.selectionStart = 0;\" line64=\"                control.onEvent(_KEYBOARD_CHANGE_EVENT, 0, () =&gt; {\" line65=\"                    this.result = helpers._getTextPromptString().substr(0, this.answerLength);\" line66=\"\" line67=\"                    this.changeTime = game.runtime();\" line68=\"\" line69=\"                    this.selectionStart = helpers._getTextPromptSelectionStart();\" line70=\"                    this.selectionEnd = helpers._getTextPromptSelectionEnd();\" line71=\"                })\" line72=\"\" line73=\"                let cancelled = false;\" line74=\"                let finished = false;\" line75=\"\" line76=\"                control.onEvent(_KEYBOARD_CANCEL_EVENT, 0, () =&gt; {\" line77=\"                    cancelled = true;\" line78=\"                });\" line79=\"\" line80=\"                control.onEvent(_KEYBOARD_ENTER_EVENT, 0, () =&gt; {\" line81=\"                    finished = true;\" line82=\"                });\" line83=\"\" line84=\"                pauseUntil(() =&gt; cancelled || finished);\" line85=\"\" line86=\"                if (cancelled) {\" line87=\"                    this.useSystemKeyboard = false;\" line88=\"                    this.selectionStart = this.result.length;\" line89=\"                    this.selectionEnd = this.selectionStart;\" line90=\"                    this.registerHandlers();\" line91=\"                    pauseUntil(() =&gt; this.confirmPressed);\" line92=\"                }\" line93=\"            }\" line94=\"            else {\" line95=\"                this.useSystemKeyboard = false;\" line96=\"                this.registerHandlers();\" line97=\"                pauseUntil(() =&gt; this.confirmPressed);\" line98=\"            }\" line99=\"\" line100=\"            game.popScene();\" line101=\"            controller._setUserEventsEnabled(true);\" line102=\"\" line103=\"            return this.result;\" line104=\"        }\" line105=\"\" line106=\"        protected numbersOnly() {\" line107=\"            return false;\" line108=\"        }\" line109=\"\" line110=\"        protected createRenderable() {\" line111=\"            if (this.renderable) {\" line112=\"                this.renderable.destroy();\" line113=\"            }\" line114=\"\" line115=\"            const promptText = new sprites.RenderText(this.message, CONTENT_WIDTH);\" line116=\"            let systemKeyboardText: sprites.RenderText;\" line117=\"\" line118=\"            this.renderable = scene.createRenderable(-1, () =&gt; {\" line119=\"                promptText.draw(screen, (screen.width &gt;&gt; 1) - (promptText.width &gt;&gt; 1), CONTENT_TOP, this.theme.colorPrompt, 0, 2)\" line120=\"                this.drawInputArea();\" line121=\"\" line122=\"                if (!this.useSystemKeyboard) {\" line123=\"                    this.drawKeyboard();\" line124=\"                    this.drawBottomBar();\" line125=\"                    return;\" line126=\"                }\" line127=\"\" line128=\"                if (!systemKeyboardText) {\" line129=\"                    systemKeyboardText = new sprites.RenderText(helpers._getLocalizedInstructions(), CONTENT_WIDTH);\" line130=\"                }\" line131=\"\" line132=\"                screen.fillRect(0, screen.height - (PADDING &lt;&lt; 1) - systemKeyboardText.height, screen.width, screen.height, this.theme.colorBottomBackground);\" line133=\"                systemKeyboardText.draw(screen, PADDING, screen.height - PADDING - systemKeyboardText.height, this.theme.colorBottomText);\" line134=\"            });\" line135=\"        }\" line136=\"\" line137=\"        protected drawInputArea() {\" line138=\"            const answerLeft = ROW_LEFT + Math.floor(\" line139=\"                ((CELL_WIDTH * ALPHABET_ROW_LENGTH) -\" line140=\"                    CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)) / 2);\" line141=\"\" line142=\"            for (let i = 0; i &lt; this.answerLength; i++) {\" line143=\"                const col = i % ALPHABET_ROW_LENGTH;\" line144=\"                const row = Math.floor(i / ALPHABET_ROW_LENGTH);\" line145=\"\" line146=\"                if (this.selectionStart !== this.selectionEnd &amp;&amp; i &gt;= this.selectionStart &amp;&amp; i &lt; this.selectionEnd) {\" line147=\"                    screen.fillRect(\" line148=\"                        answerLeft + col * CELL_WIDTH,\" line149=\"                        INPUT_TOP + row * CELL_HEIGHT,\" line150=\"                        CELL_WIDTH,\" line151=\"                        CELL_HEIGHT,\" line152=\"                        this.theme.colorCursor\" line153=\"                    );\" line154=\"                }\" line155=\"\" line156=\"                screen.fillRect(\" line157=\"                    answerLeft + col * CELL_WIDTH + BLANK_PADDING,\" line158=\"                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT - 1,\" line159=\"                    CELL_WIDTH - BLANK_PADDING * 2,\" line160=\"                    1,\" line161=\"                    !this.useSystemKeyboard &amp;&amp; !this.blink() &amp;&amp; i === this.selectionStart ? this.theme.colorInputHighlighted : this.theme.colorInput\" line162=\"                );\" line163=\"\" line164=\"                if (i &lt; this.result.length) {\" line165=\"                    const char = this.result.charAt(i);\" line166=\"                    screen.print(\" line167=\"                        char,\" line168=\"                        answerLeft + col * CELL_WIDTH + LETTER_OFFSET_X,\" line169=\"                        INPUT_TOP + row * CELL_HEIGHT + LETTER_OFFSET_Y,\" line170=\"                        this.theme.colorInputText,\" line171=\"                        font\" line172=\"                    );\" line173=\"                }\" line174=\"            }\" line175=\"\" line176=\"            // draw the blinking text cursor\" line177=\"            if (this.useSystemKeyboard) {\" line178=\"                if (this.selectionStart === this.selectionEnd &amp;&amp; this.selectionStart &lt; this.answerLength) {\" line179=\"                    const col2 = this.selectionStart % ALPHABET_ROW_LENGTH;\" line180=\"                    const row2 = Math.floor(this.selectionStart / ALPHABET_ROW_LENGTH);\" line181=\"                    if (!this.blink()) {\" line182=\"                        screen.fillRect(\" line183=\"                            answerLeft + col2 * CELL_WIDTH,\" line184=\"                            INPUT_TOP + row2 * CELL_HEIGHT,\" line185=\"                            1,\" line186=\"                            CELL_HEIGHT,\" line187=\"                            this.theme.colorCursor\" line188=\"                        );\" line189=\"                    }\" line190=\"                }\" line191=\"            }\" line192=\"        }\" line193=\"\" line194=\"        protected drawKeyboard() {\" line195=\"            const top = screen.height - BOTTOM_BAR_HEIGHT - this.keyboardRows * CELL_HEIGHT - PADDING;\" line196=\"            const left = (screen.width &gt;&gt; 1) - ((CELL_WIDTH * this.keyboardColumns) &gt;&gt; 1)\" line197=\"            for (let j = 0; j &lt; this.keyboardRows * this.keyboardColumns; j++) {\" line198=\"                const col3 = j % this.keyboardColumns;\" line199=\"                const row3 = Math.idiv(j, this.keyboardColumns);\" line200=\"\" line201=\"                if (col3 === this.cursorColumn &amp;&amp; row3 === this.cursorRow) {\" line202=\"                    screen.fillRect(\" line203=\"                        left + col3 * CELL_WIDTH,\" line204=\"                        top + row3 * CELL_HEIGHT,\" line205=\"                        CELL_WIDTH,\" line206=\"                        CELL_HEIGHT,\" line207=\"                        this.theme.colorCursor\" line208=\"                    )\" line209=\"                }\" line210=\"\" line211=\"                screen.print(\" line212=\"                    this.getSymbolForIndex(j),\" line213=\"                    left + col3 * CELL_WIDTH + LETTER_OFFSET_X,\" line214=\"                    top + row3 * CELL_HEIGHT + LETTER_OFFSET_Y,\" line215=\"                    this.theme.colorAlphabet\" line216=\"                )\" line217=\"            }\" line218=\"        }\" line219=\"\" line220=\"        protected drawBottomBar() {\" line221=\"            this.drawBottomBarBackground();\" line222=\"            this.drawShift(this.cursorRow === 3 &amp;&amp; !(this.cursorColumn &amp; 1));\" line223=\"            this.drawConfirm(this.cursorRow === 3 &amp;&amp; !!(this.cursorColumn &amp; 1));\" line224=\"        }\" line225=\"\" line226=\"        protected drawBottomBarBackground() {\" line227=\"            screen.fillRect(0, screen.height - BOTTOM_BAR_HEIGHT, screen.width, BOTTOM_BAR_HEIGHT, this.theme.colorBottomBackground);\" line228=\"        }\" line229=\"\" line230=\"        protected drawShift(highlighted: boolean) {\" line231=\"            if (highlighted) {\" line232=\"                screen.fillRect(\" line233=\"                    0,\" line234=\"                    screen.height - BOTTOM_BAR_HEIGHT,\" line235=\"                    BOTTOM_BAR_BUTTON_WIDTH,\" line236=\"                    BOTTOM_BAR_HEIGHT,\" line237=\"                    this.theme.colorCursor\" line238=\"                );\" line239=\"            }\" line240=\"\" line241=\"            let shiftText = lowerShiftText;\" line242=\"            if (this.upper) {\" line243=\"                shiftText = upperShiftText;\" line244=\"            }\" line245=\"            screen.print(\" line246=\"                shiftText,\" line247=\"                BOTTOM_BAR_SHIFT_X,\" line248=\"                screen.height - BOTTOM_BAR_HEIGHT + BOTTOM_BAR_TEXT_Y,\" line249=\"                this.theme.colorBottomText\" line250=\"            )\" line251=\"        }\" line252=\"\" line253=\"        protected drawConfirm(highlighted: boolean) {\" line254=\"            if (highlighted) {\" line255=\"                screen.fillRect(\" line256=\"                    CONFIRM_BUTTON_LEFT,\" line257=\"                    screen.height - BOTTOM_BAR_HEIGHT,\" line258=\"                    BOTTOM_BAR_BUTTON_WIDTH,\" line259=\"                    BOTTOM_BAR_HEIGHT,\" line260=\"                    this.theme.colorCursor\" line261=\"                );\" line262=\"            }\" line263=\"\" line264=\"            screen.print(\" line265=\"                confirmText,\" line266=\"                CONFIRM_BUTTON_LEFT + BOTTOM_BAR_CONFIRM_X,\" line267=\"                screen.height - BOTTOM_BAR_HEIGHT + BOTTOM_BAR_TEXT_Y,\" line268=\"                this.theme.colorBottomText\" line269=\"            )\" line270=\"        }\" line271=\"\" line272=\"        protected getSymbolForIndex(index: number) {\" line273=\"            return getCharForIndex(index, this.upper);\" line274=\"        }\" line275=\"\" line276=\"        private registerHandlers() {\" line277=\"            controller.up.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line278=\"                this.moveVertical(true);\" line279=\"            })\" line280=\"\" line281=\"            controller.down.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line282=\"                this.moveVertical(false);\" line283=\"            })\" line284=\"\" line285=\"            controller.right.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line286=\"                this.moveHorizontal(true);\" line287=\"            });\" line288=\"\" line289=\"            controller.left.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line290=\"                this.moveHorizontal(false);\" line291=\"            });\" line292=\"\" line293=\"            controller.A.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line294=\"                this.confirm();\" line295=\"            });\" line296=\"\" line297=\"            controller.B.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line298=\"                this.delete();\" line299=\"            });\" line300=\"        }\" line301=\"\" line302=\"        protected moveVertical(up: boolean) {\" line303=\"            if (up) {\" line304=\"                if (this.cursorRow === this.keyboardRows) {\" line305=\"                    this.cursorRow = this.keyboardRows - 1;\" line306=\"\" line307=\"                    if (this.cursorColumn % 2) {\" line308=\"                        this.cursorColumn = this.keyboardColumns - 1;\" line309=\"                    }\" line310=\"                    else {\" line311=\"                        this.cursorColumn = 0;\" line312=\"                    }\" line313=\"                }\" line314=\"                else {\" line315=\"                    this.cursorRow = Math.max(0, this.cursorRow - 1);\" line316=\"                }\" line317=\"            }\" line318=\"            else {\" line319=\"                this.cursorRow = Math.min(this.keyboardRows, this.cursorRow + 1);\" line320=\"\" line321=\"                if (this.cursorRow === this.keyboardRows) {\" line322=\"                    // Go to closest button\" line323=\"                    this.cursorColumn = this.cursorColumn &gt; 5 ? 1 : 0;\" line324=\"                }\" line325=\"            }\" line326=\"        }\" line327=\"\" line328=\"        protected moveHorizontal(right: boolean) {\" line329=\"            if (right) {\" line330=\"                this.cursorColumn = (this.cursorColumn + 1) % this.keyboardColumns;\" line331=\"            }\" line332=\"            else {\" line333=\"                this.cursorColumn = (this.cursorColumn + (this.keyboardColumns - 1)) % this.keyboardColumns;\" line334=\"            }\" line335=\"        }\" line336=\"\" line337=\"        protected confirm() {\" line338=\"            if (this.cursorRow === 3) {\" line339=\"                if (this.cursorColumn % 2) {\" line340=\"                    this.confirmPressed = true;\" line341=\"                }\" line342=\"                else {\" line343=\"                    this.upper = !this.upper;\" line344=\"                }\" line345=\"            }\" line346=\"            else {\" line347=\"                if (this.selectionStart &gt;= this.answerLength) return;\" line348=\"\" line349=\"                const index = this.cursorColumn + this.cursorRow * this.keyboardColumns\" line350=\"                const letter = getCharForIndex(index, this.upper);\" line351=\"\" line352=\"                if (!this.result) {\" line353=\"                    this.result = letter;\" line354=\"                }\" line355=\"                else {\" line356=\"                    this.result += letter;\" line357=\"                }\" line358=\"\" line359=\"                this.changeTime = game.runtime();\" line360=\"\" line361=\"                this.changeInputIndex(1);\" line362=\"            }\" line363=\"        }\" line364=\"\" line365=\"        protected delete() {\" line366=\"            if (this.selectionStart &lt;= 0) return;\" line367=\"\" line368=\"            this.result = this.result.substr(0, this.result.length - 1);\" line369=\"            this.changeInputIndex(-1);\" line370=\"        }\" line371=\"\" line372=\"        protected changeInputIndex(delta: number) {\" line373=\"            this.selectionStart += delta;\" line374=\"            this.selectionEnd = this.selectionStart;\" line375=\"        }\" line376=\"\" line377=\"        protected blink() {\" line378=\"            return Math.idiv(game.runtime() - this.changeTime, 500) &amp; 1;\" line379=\"        }\" line380=\"    }\" numlines=\"381\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1677\" y=\"20\"><mutation name=\"getCharForIndex\" functionid=\"Blj*6$3s@eE;0]1-44%w\"><arg name=\"index\" id=\"fc4r6gn4iuz5w9ov97vcf\" type=\"number\"></arg><arg name=\"upper\" id=\"4izhswwcneh13wm872w6lxa\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getCharForIndex</field><value name=\"fc4r6gn4iuz5w9ov97vcf\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">index</field></block></value><value name=\"4izhswwcneh13wm872w6lxa\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">upper</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"stringFromCharCode\"><value name=\"code\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">(upper ? 65 : 97)</field></block></value></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">upper</field></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value></block></value></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"2420\" y=\"20\"><mutation name=\"askForString\" functionid=\"=wgcz]Ig]`Jv/5)kYbre\"><arg name=\"message\" id=\"w6vrfo93p0ffvlkbuc7hh\" type=\"string\"></arg><arg name=\"answerLength\" id=\"tqmhw2rjtuycmy93edwm\" type=\"number\"></arg><arg name=\"useOnScreenKeyboard\" id=\"c9dza5abmyp5fjpwnsg4\" type=\"boolean\"></arg></mutation><field name=\"function_name\">askForString</field><value name=\"w6vrfo93p0ffvlkbuc7hh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><value name=\"tqmhw2rjtuycmy93edwm\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">answerLength</field></block></value><value name=\"c9dza5abmyp5fjpwnsg4\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">useOnScreenKeyboard</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let p = new game.Prompt();\" numlines=\"1\" declaredvars=\"p\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const result = p.show(console.inspect(message), answerLength, useOnScreenKeyboard);\" numlines=\"1\" declaredvars=\"result\"></mutation><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0ivl:s]}}9MTRc:msVEL\">result</field></block></value></block></next></block></next></block></statement></block></xml>"]]}]}]},{"timestamp":1756007906191,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":56870,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</variable><variable id=\"0ivl:s]}}9MTRc:msVEL\">result</variable><variable id=\".0^n+g#PX$;iL:WG]mY[\">_KEYBOARD_CHANGE_EVENT</variable><variable id=\"D+2GKkoWzZmBPV]N{.(H\">_KEYBOARD_ENTER_EVENT</variable><variable id=\"4PVC?$l}Jn|dvbp|KnXZ\">_KEYBOARD_CANCEL_EVENT</variable><variable id=\"n155seI^}c~8ftZYY$AY\">PADDING</variable><variable id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</variable><variable id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</variable><variable id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</variable><variable id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</variable><variable id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</variable><variable id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</variable><variable id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</variable><variable id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</variable><variable id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</variable><variable id=\"vChHWeq3LtR%)97e:T~/\">LETTER_OFFSET_X</variable><variable id=\"J7d}4:mrY^[GdH+Vf(+*\">LETTER_OFFSET_Y</variable><variable id=\"n`#Sfjx3],XTu][-=cyr\">BLANK_PADDING</variable><variable id=\"n|=Bo,s9U6lnjV:}Yt@1\">ROW_LEFT</variable><variable id=\"PKLP=B%wW?wo!r+]l_hQ\">BOTTOM_BAR_ALPHABET_MARGIN</variable><variable id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</variable><variable id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</variable><variable id=\"F#u8Ldt_NX01x3@#tw)Q\">BOTTOM_BAR_TEXT_Y</variable><variable id=\"73V.CYnWc-w8YMXV:mne\">BOTTOM_BAR_SHIFT_X</variable><variable id=\"S5NjhI@3kkVT{v(#!9sz\">BOTTOM_BAR_CONFIRM_X</variable><variable id=\"Fpg3mQr#7TyiME9l1/^q\">CONFIRM_BUTTON_LEFT</variable><variable id=\"$y@~XWLSDKgV~4o7iOre\">ALPHABET_HEIGHT</variable><variable id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</variable><variable id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</variable><variable id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</variable><variable id=\"Rn[o)GjkOv3V%a(%SRNU\">INPUT_TOP</variable><variable id=\"H2xJ)U;NxBehVNe%a2Vy\">lowerShiftText</variable><variable id=\"OkMol|)Q]N^o@Mw+5;k|\">upperShiftText</variable><variable id=\"E2.Rad(:igJ8Db]bf?/]\">confirmText</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\".0^n+g#PX$;iL:WG]mY[\">_KEYBOARD_CHANGE_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7339</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D+2GKkoWzZmBPV]N{.(H\">_KEYBOARD_ENTER_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7340</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4PVC?$l}Jn|dvbp|KnXZ\">_KEYBOARD_CANCEL_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7341</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"interface PromptTheme {\" line1=\"        colorPrompt: number;\" line2=\"        colorInput: number;\" line3=\"        colorInputHighlighted: number;\" line4=\"        colorInputText: number;\" line5=\"        colorAlphabet: number;\" line6=\"        colorCursor: number;\" line7=\"        colorBackground: number;\" line8=\"        colorBottomBackground: number;\" line9=\"        colorBottomText: number;\" line10=\"    }\" numlines=\"11\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const font = image.font8;\" numlines=\"1\" declaredvars=\"font\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">12</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">ceil</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.width</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.height</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of a \"cell\" that contains a letter\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vChHWeq3LtR%)97e:T~/\">LETTER_OFFSET_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"J7d}4:mrY^[GdH+Vf(+*\">LETTER_OFFSET_Y</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charHeight</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n`#Sfjx3],XTu][-=cyr\">BLANK_PADDING</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n|=Bo,s9U6lnjV:}Yt@1\">ROW_LEFT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PKLP=B%wW?wo!r+]l_hQ\">BOTTOM_BAR_ALPHABET_MARGIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of the bottom bar\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PKLP=B%wW?wo!r+]l_hQ\">BOTTOM_BAR_ALPHABET_MARGIN</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F#u8Ldt_NX01x3@#tw)Q\">BOTTOM_BAR_TEXT_Y</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charHeight</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"73V.CYnWc-w8YMXV:mne\">BOTTOM_BAR_SHIFT_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S5NjhI@3kkVT{v(#!9sz\">BOTTOM_BAR_CONFIRM_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Fpg3mQr#7TyiME9l1/^q\">CONFIRM_BUTTON_LEFT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.width</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$y@~XWLSDKgV~4o7iOre\">ALPHABET_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of the alphabet area\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$y@~XWLSDKgV~4o7iOre\">ALPHABET_HEIGHT</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of area where text is input\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Rn[o)GjkOv3V%a(%SRNU\">INPUT_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"H2xJ)U;NxBehVNe%a2Vy\">lowerShiftText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ABC</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"OkMol|)Q]N^o@Mw+5;k|\">upperShiftText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">abc</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"10\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">,</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">.</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">?</field></shadow></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">!</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">;</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">\"</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">(</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">)</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E2.Rad(:igJ8Db]bf?/]\">confirmText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OK</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"class Prompt {\" line1=\"        theme: PromptTheme;\" line2=\"\" line3=\"        message: string;\" line4=\"        answerLength: number;\" line5=\"        result: string;\" line6=\"\" line7=\"        protected confirmPressed: boolean;\" line8=\"        protected cursorRow: number;\" line9=\"        protected cursorColumn: number;\" line10=\"        protected upper: boolean;\" line11=\"        protected useSystemKeyboard: boolean;\" line12=\"\" line13=\"        protected renderable: scene.Renderable;\" line14=\"        protected selectionStart: number;\" line15=\"        protected selectionEnd: number;\" line16=\"\" line17=\"        protected keyboardRows: number;\" line18=\"        protected keyboardColumns: number;\" line19=\"\" line20=\"        private changeTime = 0;\" line21=\"\" line22=\"        constructor(theme?: PromptTheme) {\" line23=\"            if (theme) {\" line24=\"                this.theme = theme;\" line25=\"            }\" line26=\"            else {\" line27=\"                this.theme = {\" line28=\"                    colorPrompt: 1,\" line29=\"                    colorInput: 3,\" line30=\"                    colorInputHighlighted: 5,\" line31=\"                    colorInputText: 1,\" line32=\"                    colorAlphabet: 1,\" line33=\"                    colorCursor: 7,\" line34=\"                    colorBackground: 15,\" line35=\"                    colorBottomBackground: 3,\" line36=\"                    colorBottomText: 1,\" line37=\"                };\" line38=\"            }\" line39=\"            this.cursorRow = 0;\" line40=\"            this.cursorColumn = 0;\" line41=\"            this.upper = false;\" line42=\"            this.result = &quot;&quot;;\" line43=\"            this.keyboardColumns = ALPHABET_ROW_LENGTH;\" line44=\"            this.keyboardRows = NUM_ROWS;\" line45=\"            this.selectionStart = 0;\" line46=\"            this.selectionEnd = 0;\" line47=\"        }\" line48=\"\" line49=\"        show(message: string, answerLength: number, useOnScreenKeyboard = false) {\" line50=\"            this.message = message;\" line51=\"            this.answerLength = answerLength;\" line52=\"\" line53=\"            controller._setUserEventsEnabled(false);\" line54=\"            game.pushScene()\" line55=\"\" line56=\"            this.createRenderable();\" line57=\"            this.confirmPressed = false;\" line58=\"\" line59=\"            if (!useOnScreenKeyboard &amp;&amp; control.deviceDalVersion() === &quot;sim&quot; &amp;&amp; helpers._isSystemKeyboardSupported()) {\" line60=\"                this.useSystemKeyboard = true;\" line61=\"                helpers._promptForText(this.answerLength, this.numbersOnly());\" line62=\"                this.selectionEnd = 0;\" line63=\"                this.selectionStart = 0;\" line64=\"                control.onEvent(_KEYBOARD_CHANGE_EVENT, 0, () =&gt; {\" line65=\"                    this.result = helpers._getTextPromptString().substr(0, this.answerLength);\" line66=\"\" line67=\"                    this.changeTime = game.runtime();\" line68=\"\" line69=\"                    this.selectionStart = helpers._getTextPromptSelectionStart();\" line70=\"                    this.selectionEnd = helpers._getTextPromptSelectionEnd();\" line71=\"                })\" line72=\"\" line73=\"                let cancelled = false;\" line74=\"                let finished = false;\" line75=\"\" line76=\"                control.onEvent(_KEYBOARD_CANCEL_EVENT, 0, () =&gt; {\" line77=\"                    cancelled = true;\" line78=\"                });\" line79=\"\" line80=\"                control.onEvent(_KEYBOARD_ENTER_EVENT, 0, () =&gt; {\" line81=\"                    finished = true;\" line82=\"                });\" line83=\"\" line84=\"                pauseUntil(() =&gt; cancelled || finished);\" line85=\"\" line86=\"                if (cancelled) {\" line87=\"                    this.useSystemKeyboard = false;\" line88=\"                    this.selectionStart = this.result.length;\" line89=\"                    this.selectionEnd = this.selectionStart;\" line90=\"                    this.registerHandlers();\" line91=\"                    pauseUntil(() =&gt; this.confirmPressed);\" line92=\"                }\" line93=\"            }\" line94=\"            else {\" line95=\"                this.useSystemKeyboard = false;\" line96=\"                this.registerHandlers();\" line97=\"                pauseUntil(() =&gt; this.confirmPressed);\" line98=\"            }\" line99=\"\" line100=\"            game.popScene();\" line101=\"            controller._setUserEventsEnabled(true);\" line102=\"\" line103=\"            return this.result;\" line104=\"        }\" line105=\"\" line106=\"        protected numbersOnly() {\" line107=\"            return false;\" line108=\"        }\" line109=\"\" line110=\"        protected createRenderable() {\" line111=\"            if (this.renderable) {\" line112=\"                this.renderable.destroy();\" line113=\"            }\" line114=\"\" line115=\"            const promptText = new sprites.RenderText(this.message, CONTENT_WIDTH);\" line116=\"            let systemKeyboardText: sprites.RenderText;\" line117=\"\" line118=\"            this.renderable = scene.createRenderable(-1, () =&gt; {\" line119=\"                promptText.draw(screen, (screen.width &gt;&gt; 1) - (promptText.width &gt;&gt; 1), CONTENT_TOP, this.theme.colorPrompt, 0, 2)\" line120=\"                this.drawInputArea();\" line121=\"\" line122=\"                if (!this.useSystemKeyboard) {\" line123=\"                    this.drawKeyboard();\" line124=\"                    this.drawBottomBar();\" line125=\"                    return;\" line126=\"                }\" line127=\"\" line128=\"                if (!systemKeyboardText) {\" line129=\"                    systemKeyboardText = new sprites.RenderText(helpers._getLocalizedInstructions(), CONTENT_WIDTH);\" line130=\"                }\" line131=\"\" line132=\"                screen.fillRect(0, screen.height - (PADDING &lt;&lt; 1) - systemKeyboardText.height, screen.width, screen.height, this.theme.colorBottomBackground);\" line133=\"                systemKeyboardText.draw(screen, PADDING, screen.height - PADDING - systemKeyboardText.height, this.theme.colorBottomText);\" line134=\"            });\" line135=\"        }\" line136=\"\" line137=\"        protected drawInputArea() {\" line138=\"            const answerLeft = ROW_LEFT + Math.floor(\" line139=\"                ((CELL_WIDTH * ALPHABET_ROW_LENGTH) -\" line140=\"                    CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)) / 2);\" line141=\"\" line142=\"            for (let i = 0; i &lt; this.answerLength; i++) {\" line143=\"                const col = i % ALPHABET_ROW_LENGTH;\" line144=\"                const row = Math.floor(i / ALPHABET_ROW_LENGTH);\" line145=\"\" line146=\"                if (this.selectionStart !== this.selectionEnd &amp;&amp; i &gt;= this.selectionStart &amp;&amp; i &lt; this.selectionEnd) {\" line147=\"                    screen.fillRect(\" line148=\"                        answerLeft + col * CELL_WIDTH,\" line149=\"                        INPUT_TOP + row * CELL_HEIGHT,\" line150=\"                        CELL_WIDTH,\" line151=\"                        CELL_HEIGHT,\" line152=\"                        this.theme.colorCursor\" line153=\"                    );\" line154=\"                }\" line155=\"\" line156=\"                screen.fillRect(\" line157=\"                    answerLeft + col * CELL_WIDTH + BLANK_PADDING,\" line158=\"                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT - 1,\" line159=\"                    CELL_WIDTH - BLANK_PADDING * 2,\" line160=\"                    1,\" line161=\"                    !this.useSystemKeyboard &amp;&amp; !this.blink() &amp;&amp; i === this.selectionStart ? this.theme.colorInputHighlighted : this.theme.colorInput\" line162=\"                );\" line163=\"\" line164=\"                if (i &lt; this.result.length) {\" line165=\"                    const char = this.result.charAt(i);\" line166=\"                    screen.print(\" line167=\"                        char,\" line168=\"                        answerLeft + col * CELL_WIDTH + LETTER_OFFSET_X,\" line169=\"                        INPUT_TOP + row * CELL_HEIGHT + LETTER_OFFSET_Y,\" line170=\"                        this.theme.colorInputText,\" line171=\"                        font\" line172=\"                    );\" line173=\"                }\" line174=\"            }\" line175=\"\" line176=\"            // draw the blinking text cursor\" line177=\"            if (this.useSystemKeyboard) {\" line178=\"                if (this.selectionStart === this.selectionEnd &amp;&amp; this.selectionStart &lt; this.answerLength) {\" line179=\"                    const col2 = this.selectionStart % ALPHABET_ROW_LENGTH;\" line180=\"                    const row2 = Math.floor(this.selectionStart / ALPHABET_ROW_LENGTH);\" line181=\"                    if (!this.blink()) {\" line182=\"                        screen.fillRect(\" line183=\"                            answerLeft + col2 * CELL_WIDTH,\" line184=\"                            INPUT_TOP + row2 * CELL_HEIGHT,\" line185=\"                            1,\" line186=\"                            CELL_HEIGHT,\" line187=\"                            this.theme.colorCursor\" line188=\"                        );\" line189=\"                    }\" line190=\"                }\" line191=\"            }\" line192=\"        }\" line193=\"\" line194=\"        protected drawKeyboard() {\" line195=\"            const top = screen.height - BOTTOM_BAR_HEIGHT - this.keyboardRows * CELL_HEIGHT - PADDING;\" line196=\"            const left = (screen.width &gt;&gt; 1) - ((CELL_WIDTH * this.keyboardColumns) &gt;&gt; 1)\" line197=\"            for (let j = 0; j &lt; this.keyboardRows * this.keyboardColumns; j++) {\" line198=\"                const col3 = j % this.keyboardColumns;\" line199=\"                const row3 = Math.idiv(j, this.keyboardColumns);\" line200=\"\" line201=\"                if (col3 === this.cursorColumn &amp;&amp; row3 === this.cursorRow) {\" line202=\"                    screen.fillRect(\" line203=\"                        left + col3 * CELL_WIDTH,\" line204=\"                        top + row3 * CELL_HEIGHT,\" line205=\"                        CELL_WIDTH,\" line206=\"                        CELL_HEIGHT,\" line207=\"                        this.theme.colorCursor\" line208=\"                    )\" line209=\"                }\" line210=\"\" line211=\"                screen.print(\" line212=\"                    this.getSymbolForIndex(j),\" line213=\"                    left + col3 * CELL_WIDTH + LETTER_OFFSET_X,\" line214=\"                    top + row3 * CELL_HEIGHT + LETTER_OFFSET_Y,\" line215=\"                    this.theme.colorAlphabet\" line216=\"                )\" line217=\"            }\" line218=\"        }\" line219=\"\" line220=\"        protected drawBottomBar() {\" line221=\"            this.drawBottomBarBackground();\" line222=\"            this.drawShift(this.cursorRow === 3 &amp;&amp; !(this.cursorColumn &amp; 1));\" line223=\"            this.drawConfirm(this.cursorRow === 3 &amp;&amp; !!(this.cursorColumn &amp; 1));\" line224=\"        }\" line225=\"\" line226=\"        protected drawBottomBarBackground() {\" line227=\"            screen.fillRect(0, screen.height - BOTTOM_BAR_HEIGHT, screen.width, BOTTOM_BAR_HEIGHT, this.theme.colorBottomBackground);\" line228=\"        }\" line229=\"\" line230=\"        protected drawShift(highlighted: boolean) {\" line231=\"            if (highlighted) {\" line232=\"                screen.fillRect(\" line233=\"                    0,\" line234=\"                    screen.height - BOTTOM_BAR_HEIGHT,\" line235=\"                    BOTTOM_BAR_BUTTON_WIDTH,\" line236=\"                    BOTTOM_BAR_HEIGHT,\" line237=\"                    this.theme.colorCursor\" line238=\"                );\" line239=\"            }\" line240=\"\" line241=\"            let shiftText = lowerShiftText;\" line242=\"            if (this.upper) {\" line243=\"                shiftText = upperShiftText;\" line244=\"            }\" line245=\"            screen.print(\" line246=\"                shiftText,\" line247=\"                BOTTOM_BAR_SHIFT_X,\" line248=\"                screen.height - BOTTOM_BAR_HEIGHT + BOTTOM_BAR_TEXT_Y,\" line249=\"                this.theme.colorBottomText\" line250=\"            )\" line251=\"        }\" line252=\"\" line253=\"        protected drawConfirm(highlighted: boolean) {\" line254=\"            if (highlighted) {\" line255=\"                screen.fillRect(\" line256=\"                    CONFIRM_BUTTON_LEFT,\" line257=\"                    screen.height - BOTTOM_BAR_HEIGHT,\" line258=\"                    BOTTOM_BAR_BUTTON_WIDTH,\" line259=\"                    BOTTOM_BAR_HEIGHT,\" line260=\"                    this.theme.colorCursor\" line261=\"                );\" line262=\"            }\" line263=\"\" line264=\"            screen.print(\" line265=\"                confirmText,\" line266=\"                CONFIRM_BUTTON_LEFT + BOTTOM_BAR_CONFIRM_X,\" line267=\"                screen.height - BOTTOM_BAR_HEIGHT + BOTTOM_BAR_TEXT_Y,\" line268=\"                this.theme.colorBottomText\" line269=\"            )\" line270=\"        }\" line271=\"\" line272=\"        protected getSymbolForIndex(index: number) {\" line273=\"            return getCharForIndex(index, this.upper);\" line274=\"        }\" line275=\"\" line276=\"        private registerHandlers() {\" line277=\"            controller.up.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line278=\"                this.moveVertical(true);\" line279=\"            })\" line280=\"\" line281=\"            controller.down.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line282=\"                this.moveVertical(false);\" line283=\"            })\" line284=\"\" line285=\"            controller.right.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line286=\"                this.moveHorizontal(true);\" line287=\"            });\" line288=\"\" line289=\"            controller.left.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line290=\"                this.moveHorizontal(false);\" line291=\"            });\" line292=\"\" line293=\"            controller.A.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line294=\"                this.confirm();\" line295=\"            });\" line296=\"\" line297=\"            controller.B.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line298=\"                this.delete();\" line299=\"            });\" line300=\"        }\" line301=\"\" line302=\"        protected moveVertical(up: boolean) {\" line303=\"            if (up) {\" line304=\"                if (this.cursorRow === this.keyboardRows) {\" line305=\"                    this.cursorRow = this.keyboardRows - 1;\" line306=\"\" line307=\"                    if (this.cursorColumn % 2) {\" line308=\"                        this.cursorColumn = this.keyboardColumns - 1;\" line309=\"                    }\" line310=\"                    else {\" line311=\"                        this.cursorColumn = 0;\" line312=\"                    }\" line313=\"                }\" line314=\"                else {\" line315=\"                    this.cursorRow = Math.max(0, this.cursorRow - 1);\" line316=\"                }\" line317=\"            }\" line318=\"            else {\" line319=\"                this.cursorRow = Math.min(this.keyboardRows, this.cursorRow + 1);\" line320=\"\" line321=\"                if (this.cursorRow === this.keyboardRows) {\" line322=\"                    // Go to closest button\" line323=\"                    this.cursorColumn = this.cursorColumn &gt; 5 ? 1 : 0;\" line324=\"                }\" line325=\"            }\" line326=\"        }\" line327=\"\" line328=\"        protected moveHorizontal(right: boolean) {\" line329=\"            if (right) {\" line330=\"                this.cursorColumn = (this.cursorColumn + 1) % this.keyboardColumns;\" line331=\"            }\" line332=\"            else {\" line333=\"                this.cursorColumn = (this.cursorColumn + (this.keyboardColumns - 1)) % this.keyboardColumns;\" line334=\"            }\" line335=\"        }\" line336=\"\" line337=\"        protected confirm() {\" line338=\"            if (this.cursorRow === 3) {\" line339=\"                if (this.cursorColumn % 2) {\" line340=\"                    this.confirmPressed = true;\" line341=\"                }\" line342=\"                else {\" line343=\"                    this.upper = !this.upper;\" line344=\"                }\" line345=\"            }\" line346=\"            else {\" line347=\"                if (this.selectionStart &gt;= this.answerLength) return;\" line348=\"\" line349=\"                const index = this.cursorColumn + this.cursorRow * this.keyboardColumns\" line350=\"                const letter = getCharForIndex(index, this.upper);\" line351=\"\" line352=\"                if (!this.result) {\" line353=\"                    this.result = letter;\" line354=\"                }\" line355=\"                else {\" line356=\"                    this.result += letter;\" line357=\"                }\" line358=\"\" line359=\"                this.changeTime = game.runtime();\" line360=\"\" line361=\"                this.changeInputIndex(1);\" line362=\"            }\" line363=\"        }\" line364=\"\" line365=\"        protected delete() {\" line366=\"            if (this.selectionStart &lt;= 0) return;\" line367=\"\" line368=\"            this.result = this.result.substr(0, this.result.length - 1);\" line369=\"            this.changeInputIndex(-1);\" line370=\"        }\" line371=\"\" line372=\"        protected changeInputIndex(delta: number) {\" line373=\"            this.selectionStart += delta;\" line374=\"            this.selectionEnd = this.selectionStart;\" line375=\"        }\" line376=\"\" line377=\"        protected blink() {\" line378=\"            return Math.idiv(game.runtime() - this.changeTime, 500) &amp; 1;\" line379=\"        }\" line380=\"    }\" numlines=\"381\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1657\" y=\"0\"><mutation name=\"getCharForIndex\" functionid=\"Blj*6$3s@eE;0]1-44%w\"><arg name=\"index\" id=\"fc4r6gn4iuz5w9ov97vcf\" type=\"number\"></arg><arg name=\"upper\" id=\"4izhswwcneh13wm872w6lxa\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getCharForIndex</field><value name=\"fc4r6gn4iuz5w9ov97vcf\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">index</field></block></value><value name=\"4izhswwcneh13wm872w6lxa\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">upper</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"stringFromCharCode\"><value name=\"code\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">(upper ? 65 : 97)</field></block></value></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">upper</field></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value></block></value></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"2400\" y=\"0\"><mutation name=\"askForString\" functionid=\"=wgcz]Ig]`Jv/5)kYbre\"><arg name=\"message\" id=\"w6vrfo93p0ffvlkbuc7hh\" type=\"string\"></arg><arg name=\"answerLength\" id=\"tqmhw2rjtuycmy93edwm\" type=\"number\"></arg><arg name=\"useOnScreenKeyboard\" id=\"c9dza5abmyp5fjpwnsg4\" type=\"boolean\"></arg></mutation><field name=\"function_name\">askForString</field><value name=\"w6vrfo93p0ffvlkbuc7hh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><value name=\"tqmhw2rjtuycmy93edwm\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">answerLength</field></block></value><value name=\"c9dza5abmyp5fjpwnsg4\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">useOnScreenKeyboard</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let p = new game.Prompt();\" numlines=\"1\" declaredvars=\"p\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const result = p.show(console.inspect(message), answerLength, useOnScreenKeyboard);\" numlines=\"1\" declaredvars=\"result\"></mutation><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0ivl:s]}}9MTRc:msVEL\">result</field></block></value></block></next></block></next></block></statement></block></xml>"]]}]}]},{"timestamp":1756007914262,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":203,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1755996130490,"editorVersion":"2.0.56","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"yets\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1756007900509,"editorVersion":"2.0.56","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</variable><variable id=\"0ivl:s]}}9MTRc:msVEL\">result</variable><variable id=\".0^n+g#PX$;iL:WG]mY[\">_KEYBOARD_CHANGE_EVENT</variable><variable id=\"D+2GKkoWzZmBPV]N{.(H\">_KEYBOARD_ENTER_EVENT</variable><variable id=\"4PVC?$l}Jn|dvbp|KnXZ\">_KEYBOARD_CANCEL_EVENT</variable><variable id=\"n155seI^}c~8ftZYY$AY\">PADDING</variable><variable id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</variable><variable id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</variable><variable id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</variable><variable id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</variable><variable id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</variable><variable id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</variable><variable id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</variable><variable id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</variable><variable id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</variable><variable id=\"vChHWeq3LtR%)97e:T~/\">LETTER_OFFSET_X</variable><variable id=\"J7d}4:mrY^[GdH+Vf(+*\">LETTER_OFFSET_Y</variable><variable id=\"n`#Sfjx3],XTu][-=cyr\">BLANK_PADDING</variable><variable id=\"n|=Bo,s9U6lnjV:}Yt@1\">ROW_LEFT</variable><variable id=\"PKLP=B%wW?wo!r+]l_hQ\">BOTTOM_BAR_ALPHABET_MARGIN</variable><variable id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</variable><variable id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</variable><variable id=\"F#u8Ldt_NX01x3@#tw)Q\">BOTTOM_BAR_TEXT_Y</variable><variable id=\"73V.CYnWc-w8YMXV:mne\">BOTTOM_BAR_SHIFT_X</variable><variable id=\"S5NjhI@3kkVT{v(#!9sz\">BOTTOM_BAR_CONFIRM_X</variable><variable id=\"Fpg3mQr#7TyiME9l1/^q\">CONFIRM_BUTTON_LEFT</variable><variable id=\"$y@~XWLSDKgV~4o7iOre\">ALPHABET_HEIGHT</variable><variable id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</variable><variable id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</variable><variable id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</variable><variable id=\"Rn[o)GjkOv3V%a(%SRNU\">INPUT_TOP</variable><variable id=\"H2xJ)U;NxBehVNe%a2Vy\">lowerShiftText</variable><variable id=\"OkMol|)Q]N^o@Mw+5;k|\">upperShiftText</variable><variable id=\"E2.Rad(:igJ8Db]bf?/]\">confirmText</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\".0^n+g#PX$;iL:WG]mY[\">_KEYBOARD_CHANGE_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7339</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D+2GKkoWzZmBPV]N{.(H\">_KEYBOARD_ENTER_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7340</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4PVC?$l}Jn|dvbp|KnXZ\">_KEYBOARD_CANCEL_EVENT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">7341</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"interface PromptTheme {\" line1=\"        colorPrompt: number;\" line2=\"        colorInput: number;\" line3=\"        colorInputHighlighted: number;\" line4=\"        colorInputText: number;\" line5=\"        colorAlphabet: number;\" line6=\"        colorCursor: number;\" line7=\"        colorBackground: number;\" line8=\"        colorBottomBackground: number;\" line9=\"        colorBottomText: number;\" line10=\"    }\" numlines=\"11\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const font = image.font8;\" numlines=\"1\" declaredvars=\"font\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">12</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">ceil</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"1CMzGXzq,lqW:s*2L5-y\">NUM_LETTERS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.width</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.height</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of a \"cell\" that contains a letter\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vChHWeq3LtR%)97e:T~/\">LETTER_OFFSET_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"J7d}4:mrY^[GdH+Vf(+*\">LETTER_OFFSET_Y</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charHeight</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n`#Sfjx3],XTu][-=cyr\">BLANK_PADDING</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n|=Bo,s9U6lnjV:}Yt@1\">ROW_LEFT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">floor</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qM?|;36(UU[`BBNK.ZN0\">CONTENT_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"aCqT^rKl$,T|zt$82rSA\">CELL_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b,#=*8[4)keQjCmtT6BR\">ALPHABET_ROW_LENGTH</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PKLP=B%wW?wo!r+]l_hQ\">BOTTOM_BAR_ALPHABET_MARGIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of the bottom bar\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PKLP=B%wW?wo!r+]l_hQ\">BOTTOM_BAR_ALPHABET_MARGIN</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n155seI^}c~8ftZYY$AY\">PADDING</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F#u8Ldt_NX01x3@#tw)Q\">BOTTOM_BAR_TEXT_Y</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charHeight</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"73V.CYnWc-w8YMXV:mne\">BOTTOM_BAR_SHIFT_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S5NjhI@3kkVT{v(#!9sz\">BOTTOM_BAR_CONFIRM_X</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">font.charWidth</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Fpg3mQr#7TyiME9l1/^q\">CONFIRM_BUTTON_LEFT</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">screen.width</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]c=S}BoW5PeqdqoWY?J:\">BOTTOM_BAR_BUTTON_WIDTH</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$y@~XWLSDKgV~4o7iOre\">ALPHABET_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of the alphabet area\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nt`m#tFca|8LTF)lhjgh\">NUM_ROWS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w`~4n#68w.~kEhz.KAUV\">CONTENT_TOP</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^v8@7z:`s8{KeEMKNXWa\">CONTENT_HEIGHT</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$y@~XWLSDKgV~4o7iOre\">ALPHABET_HEIGHT</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"x0uS1JT:GZ:s**ae];=G\">BOTTOM_BAR_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</field><comment pinned=\"false\" h=\"80\" w=\"160\">Dimensions of area where text is input\n% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$FFa%(XB{0_[h{wV9;)c\">INPUT_ROWS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"h_=s~8@CtXkvah/__lZG\">CELL_HEIGHT</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Rn[o)GjkOv3V%a(%SRNU\">INPUT_TOP</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v@0~@`8R]5s!3)Ld@hai\">ALPHABET_TOP</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"TLY@M)PzIyRId9%@flVc\">INPUT_HEIGHT</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";)r;}ai]SI|H1xp_/CS0\">ALPHABET_INPUT_MARGIN</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"H2xJ)U;NxBehVNe%a2Vy\">lowerShiftText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">ABC</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"OkMol|)Q]N^o@Mw+5;k|\">upperShiftText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">abc</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"10\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">,</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">.</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">?</field></shadow></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">!</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">;</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">\"</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">(</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">)</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"E2.Rad(:igJ8Db]bf?/]\">confirmText</field><comment pinned=\"false\" h=\"80\" w=\"160\">% whenUsed=true</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">OK</field></block></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"class Prompt {\" line1=\"        theme: PromptTheme;\" line2=\"\" line3=\"        message: string;\" line4=\"        answerLength: number;\" line5=\"        result: string;\" line6=\"\" line7=\"        protected confirmPressed: boolean;\" line8=\"        protected cursorRow: number;\" line9=\"        protected cursorColumn: number;\" line10=\"        protected upper: boolean;\" line11=\"        protected useSystemKeyboard: boolean;\" line12=\"\" line13=\"        protected renderable: scene.Renderable;\" line14=\"        protected selectionStart: number;\" line15=\"        protected selectionEnd: number;\" line16=\"\" line17=\"        protected keyboardRows: number;\" line18=\"        protected keyboardColumns: number;\" line19=\"\" line20=\"        private changeTime = 0;\" line21=\"\" line22=\"        constructor(theme?: PromptTheme) {\" line23=\"            if (theme) {\" line24=\"                this.theme = theme;\" line25=\"            }\" line26=\"            else {\" line27=\"                this.theme = {\" line28=\"                    colorPrompt: 1,\" line29=\"                    colorInput: 3,\" line30=\"                    colorInputHighlighted: 5,\" line31=\"                    colorInputText: 1,\" line32=\"                    colorAlphabet: 1,\" line33=\"                    colorCursor: 7,\" line34=\"                    colorBackground: 15,\" line35=\"                    colorBottomBackground: 3,\" line36=\"                    colorBottomText: 1,\" line37=\"                };\" line38=\"            }\" line39=\"            this.cursorRow = 0;\" line40=\"            this.cursorColumn = 0;\" line41=\"            this.upper = false;\" line42=\"            this.result = &quot;&quot;;\" line43=\"            this.keyboardColumns = ALPHABET_ROW_LENGTH;\" line44=\"            this.keyboardRows = NUM_ROWS;\" line45=\"            this.selectionStart = 0;\" line46=\"            this.selectionEnd = 0;\" line47=\"        }\" line48=\"\" line49=\"        show(message: string, answerLength: number, useOnScreenKeyboard = false) {\" line50=\"            this.message = message;\" line51=\"            this.answerLength = answerLength;\" line52=\"\" line53=\"            controller._setUserEventsEnabled(false);\" line54=\"            game.pushScene()\" line55=\"\" line56=\"            this.createRenderable();\" line57=\"            this.confirmPressed = false;\" line58=\"\" line59=\"            if (!useOnScreenKeyboard &amp;&amp; control.deviceDalVersion() === &quot;sim&quot; &amp;&amp; helpers._isSystemKeyboardSupported()) {\" line60=\"                this.useSystemKeyboard = true;\" line61=\"                helpers._promptForText(this.answerLength, this.numbersOnly());\" line62=\"                this.selectionEnd = 0;\" line63=\"                this.selectionStart = 0;\" line64=\"                control.onEvent(_KEYBOARD_CHANGE_EVENT, 0, () =&gt; {\" line65=\"                    this.result = helpers._getTextPromptString().substr(0, this.answerLength);\" line66=\"\" line67=\"                    this.changeTime = game.runtime();\" line68=\"\" line69=\"                    this.selectionStart = helpers._getTextPromptSelectionStart();\" line70=\"                    this.selectionEnd = helpers._getTextPromptSelectionEnd();\" line71=\"                })\" line72=\"\" line73=\"                let cancelled = false;\" line74=\"                let finished = false;\" line75=\"\" line76=\"                control.onEvent(_KEYBOARD_CANCEL_EVENT, 0, () =&gt; {\" line77=\"                    cancelled = true;\" line78=\"                });\" line79=\"\" line80=\"                control.onEvent(_KEYBOARD_ENTER_EVENT, 0, () =&gt; {\" line81=\"                    finished = true;\" line82=\"                });\" line83=\"\" line84=\"                pauseUntil(() =&gt; cancelled || finished);\" line85=\"\" line86=\"                if (cancelled) {\" line87=\"                    this.useSystemKeyboard = false;\" line88=\"                    this.selectionStart = this.result.length;\" line89=\"                    this.selectionEnd = this.selectionStart;\" line90=\"                    this.registerHandlers();\" line91=\"                    pauseUntil(() =&gt; this.confirmPressed);\" line92=\"                }\" line93=\"            }\" line94=\"            else {\" line95=\"                this.useSystemKeyboard = false;\" line96=\"                this.registerHandlers();\" line97=\"                pauseUntil(() =&gt; this.confirmPressed);\" line98=\"            }\" line99=\"\" line100=\"            game.popScene();\" line101=\"            controller._setUserEventsEnabled(true);\" line102=\"\" line103=\"            return this.result;\" line104=\"        }\" line105=\"\" line106=\"        protected numbersOnly() {\" line107=\"            return false;\" line108=\"        }\" line109=\"\" line110=\"        protected createRenderable() {\" line111=\"            if (this.renderable) {\" line112=\"                this.renderable.destroy();\" line113=\"            }\" line114=\"\" line115=\"            const promptText = new sprites.RenderText(this.message, CONTENT_WIDTH);\" line116=\"            let systemKeyboardText: sprites.RenderText;\" line117=\"\" line118=\"            this.renderable = scene.createRenderable(-1, () =&gt; {\" line119=\"                promptText.draw(screen, (screen.width &gt;&gt; 1) - (promptText.width &gt;&gt; 1), CONTENT_TOP, this.theme.colorPrompt, 0, 2)\" line120=\"                this.drawInputArea();\" line121=\"\" line122=\"                if (!this.useSystemKeyboard) {\" line123=\"                    this.drawKeyboard();\" line124=\"                    this.drawBottomBar();\" line125=\"                    return;\" line126=\"                }\" line127=\"\" line128=\"                if (!systemKeyboardText) {\" line129=\"                    systemKeyboardText = new sprites.RenderText(helpers._getLocalizedInstructions(), CONTENT_WIDTH);\" line130=\"                }\" line131=\"\" line132=\"                screen.fillRect(0, screen.height - (PADDING &lt;&lt; 1) - systemKeyboardText.height, screen.width, screen.height, this.theme.colorBottomBackground);\" line133=\"                systemKeyboardText.draw(screen, PADDING, screen.height - PADDING - systemKeyboardText.height, this.theme.colorBottomText);\" line134=\"            });\" line135=\"        }\" line136=\"\" line137=\"        protected drawInputArea() {\" line138=\"            const answerLeft = ROW_LEFT + Math.floor(\" line139=\"                ((CELL_WIDTH * ALPHABET_ROW_LENGTH) -\" line140=\"                    CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)) / 2);\" line141=\"\" line142=\"            for (let i = 0; i &lt; this.answerLength; i++) {\" line143=\"                const col = i % ALPHABET_ROW_LENGTH;\" line144=\"                const row = Math.floor(i / ALPHABET_ROW_LENGTH);\" line145=\"\" line146=\"                if (this.selectionStart !== this.selectionEnd &amp;&amp; i &gt;= this.selectionStart &amp;&amp; i &lt; this.selectionEnd) {\" line147=\"                    screen.fillRect(\" line148=\"                        answerLeft + col * CELL_WIDTH,\" line149=\"                        INPUT_TOP + row * CELL_HEIGHT,\" line150=\"                        CELL_WIDTH,\" line151=\"                        CELL_HEIGHT,\" line152=\"                        this.theme.colorCursor\" line153=\"                    );\" line154=\"                }\" line155=\"\" line156=\"                screen.fillRect(\" line157=\"                    answerLeft + col * CELL_WIDTH + BLANK_PADDING,\" line158=\"                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT - 1,\" line159=\"                    CELL_WIDTH - BLANK_PADDING * 2,\" line160=\"                    1,\" line161=\"                    !this.useSystemKeyboard &amp;&amp; !this.blink() &amp;&amp; i === this.selectionStart ? this.theme.colorInputHighlighted : this.theme.colorInput\" line162=\"                );\" line163=\"\" line164=\"                if (i &lt; this.result.length) {\" line165=\"                    const char = this.result.charAt(i);\" line166=\"                    screen.print(\" line167=\"                        char,\" line168=\"                        answerLeft + col * CELL_WIDTH + LETTER_OFFSET_X,\" line169=\"                        INPUT_TOP + row * CELL_HEIGHT + LETTER_OFFSET_Y,\" line170=\"                        this.theme.colorInputText,\" line171=\"                        font\" line172=\"                    );\" line173=\"                }\" line174=\"            }\" line175=\"\" line176=\"            // draw the blinking text cursor\" line177=\"            if (this.useSystemKeyboard) {\" line178=\"                if (this.selectionStart === this.selectionEnd &amp;&amp; this.selectionStart &lt; this.answerLength) {\" line179=\"                    const col2 = this.selectionStart % ALPHABET_ROW_LENGTH;\" line180=\"                    const row2 = Math.floor(this.selectionStart / ALPHABET_ROW_LENGTH);\" line181=\"                    if (!this.blink()) {\" line182=\"                        screen.fillRect(\" line183=\"                            answerLeft + col2 * CELL_WIDTH,\" line184=\"                            INPUT_TOP + row2 * CELL_HEIGHT,\" line185=\"                            1,\" line186=\"                            CELL_HEIGHT,\" line187=\"                            this.theme.colorCursor\" line188=\"                        );\" line189=\"                    }\" line190=\"                }\" line191=\"            }\" line192=\"        }\" line193=\"\" line194=\"        protected drawKeyboard() {\" line195=\"            const top = screen.height - BOTTOM_BAR_HEIGHT - this.keyboardRows * CELL_HEIGHT - PADDING;\" line196=\"            const left = (screen.width &gt;&gt; 1) - ((CELL_WIDTH * this.keyboardColumns) &gt;&gt; 1)\" line197=\"            for (let j = 0; j &lt; this.keyboardRows * this.keyboardColumns; j++) {\" line198=\"                const col3 = j % this.keyboardColumns;\" line199=\"                const row3 = Math.idiv(j, this.keyboardColumns);\" line200=\"\" line201=\"                if (col3 === this.cursorColumn &amp;&amp; row3 === this.cursorRow) {\" line202=\"                    screen.fillRect(\" line203=\"                        left + col3 * CELL_WIDTH,\" line204=\"                        top + row3 * CELL_HEIGHT,\" line205=\"                        CELL_WIDTH,\" line206=\"                        CELL_HEIGHT,\" line207=\"                        this.theme.colorCursor\" line208=\"                    )\" line209=\"                }\" line210=\"\" line211=\"                screen.print(\" line212=\"                    this.getSymbolForIndex(j),\" line213=\"                    left + col3 * CELL_WIDTH + LETTER_OFFSET_X,\" line214=\"                    top + row3 * CELL_HEIGHT + LETTER_OFFSET_Y,\" line215=\"                    this.theme.colorAlphabet\" line216=\"                )\" line217=\"            }\" line218=\"        }\" line219=\"\" line220=\"        protected drawBottomBar() {\" line221=\"            this.drawBottomBarBackground();\" line222=\"            this.drawShift(this.cursorRow === 3 &amp;&amp; !(this.cursorColumn &amp; 1));\" line223=\"            this.drawConfirm(this.cursorRow === 3 &amp;&amp; !!(this.cursorColumn &amp; 1));\" line224=\"        }\" line225=\"\" line226=\"        protected drawBottomBarBackground() {\" line227=\"            screen.fillRect(0, screen.height - BOTTOM_BAR_HEIGHT, screen.width, BOTTOM_BAR_HEIGHT, this.theme.colorBottomBackground);\" line228=\"        }\" line229=\"\" line230=\"        protected drawShift(highlighted: boolean) {\" line231=\"            if (highlighted) {\" line232=\"                screen.fillRect(\" line233=\"                    0,\" line234=\"                    screen.height - BOTTOM_BAR_HEIGHT,\" line235=\"                    BOTTOM_BAR_BUTTON_WIDTH,\" line236=\"                    BOTTOM_BAR_HEIGHT,\" line237=\"                    this.theme.colorCursor\" line238=\"                );\" line239=\"            }\" line240=\"\" line241=\"            let shiftText = lowerShiftText;\" line242=\"            if (this.upper) {\" line243=\"                shiftText = upperShiftText;\" line244=\"            }\" line245=\"            screen.print(\" line246=\"                shiftText,\" line247=\"                BOTTOM_BAR_SHIFT_X,\" line248=\"                screen.height - BOTTOM_BAR_HEIGHT + BOTTOM_BAR_TEXT_Y,\" line249=\"                this.theme.colorBottomText\" line250=\"            )\" line251=\"        }\" line252=\"\" line253=\"        protected drawConfirm(highlighted: boolean) {\" line254=\"            if (highlighted) {\" line255=\"                screen.fillRect(\" line256=\"                    CONFIRM_BUTTON_LEFT,\" line257=\"                    screen.height - BOTTOM_BAR_HEIGHT,\" line258=\"                    BOTTOM_BAR_BUTTON_WIDTH,\" line259=\"                    BOTTOM_BAR_HEIGHT,\" line260=\"                    this.theme.colorCursor\" line261=\"                );\" line262=\"            }\" line263=\"\" line264=\"            screen.print(\" line265=\"                confirmText,\" line266=\"                CONFIRM_BUTTON_LEFT + BOTTOM_BAR_CONFIRM_X,\" line267=\"                screen.height - BOTTOM_BAR_HEIGHT + BOTTOM_BAR_TEXT_Y,\" line268=\"                this.theme.colorBottomText\" line269=\"            )\" line270=\"        }\" line271=\"\" line272=\"        protected getSymbolForIndex(index: number) {\" line273=\"            return getCharForIndex(index, this.upper);\" line274=\"        }\" line275=\"\" line276=\"        private registerHandlers() {\" line277=\"            controller.up.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line278=\"                this.moveVertical(true);\" line279=\"            })\" line280=\"\" line281=\"            controller.down.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line282=\"                this.moveVertical(false);\" line283=\"            })\" line284=\"\" line285=\"            controller.right.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line286=\"                this.moveHorizontal(true);\" line287=\"            });\" line288=\"\" line289=\"            controller.left.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line290=\"                this.moveHorizontal(false);\" line291=\"            });\" line292=\"\" line293=\"            controller.A.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line294=\"                this.confirm();\" line295=\"            });\" line296=\"\" line297=\"            controller.B.onEvent(SYSTEM_KEY_DOWN, () =&gt; {\" line298=\"                this.delete();\" line299=\"            });\" line300=\"        }\" line301=\"\" line302=\"        protected moveVertical(up: boolean) {\" line303=\"            if (up) {\" line304=\"                if (this.cursorRow === this.keyboardRows) {\" line305=\"                    this.cursorRow = this.keyboardRows - 1;\" line306=\"\" line307=\"                    if (this.cursorColumn % 2) {\" line308=\"                        this.cursorColumn = this.keyboardColumns - 1;\" line309=\"                    }\" line310=\"                    else {\" line311=\"                        this.cursorColumn = 0;\" line312=\"                    }\" line313=\"                }\" line314=\"                else {\" line315=\"                    this.cursorRow = Math.max(0, this.cursorRow - 1);\" line316=\"                }\" line317=\"            }\" line318=\"            else {\" line319=\"                this.cursorRow = Math.min(this.keyboardRows, this.cursorRow + 1);\" line320=\"\" line321=\"                if (this.cursorRow === this.keyboardRows) {\" line322=\"                    // Go to closest button\" line323=\"                    this.cursorColumn = this.cursorColumn &gt; 5 ? 1 : 0;\" line324=\"                }\" line325=\"            }\" line326=\"        }\" line327=\"\" line328=\"        protected moveHorizontal(right: boolean) {\" line329=\"            if (right) {\" line330=\"                this.cursorColumn = (this.cursorColumn + 1) % this.keyboardColumns;\" line331=\"            }\" line332=\"            else {\" line333=\"                this.cursorColumn = (this.cursorColumn + (this.keyboardColumns - 1)) % this.keyboardColumns;\" line334=\"            }\" line335=\"        }\" line336=\"\" line337=\"        protected confirm() {\" line338=\"            if (this.cursorRow === 3) {\" line339=\"                if (this.cursorColumn % 2) {\" line340=\"                    this.confirmPressed = true;\" line341=\"                }\" line342=\"                else {\" line343=\"                    this.upper = !this.upper;\" line344=\"                }\" line345=\"            }\" line346=\"            else {\" line347=\"                if (this.selectionStart &gt;= this.answerLength) return;\" line348=\"\" line349=\"                const index = this.cursorColumn + this.cursorRow * this.keyboardColumns\" line350=\"                const letter = getCharForIndex(index, this.upper);\" line351=\"\" line352=\"                if (!this.result) {\" line353=\"                    this.result = letter;\" line354=\"                }\" line355=\"                else {\" line356=\"                    this.result += letter;\" line357=\"                }\" line358=\"\" line359=\"                this.changeTime = game.runtime();\" line360=\"\" line361=\"                this.changeInputIndex(1);\" line362=\"            }\" line363=\"        }\" line364=\"\" line365=\"        protected delete() {\" line366=\"            if (this.selectionStart &lt;= 0) return;\" line367=\"\" line368=\"            this.result = this.result.substr(0, this.result.length - 1);\" line369=\"            this.changeInputIndex(-1);\" line370=\"        }\" line371=\"\" line372=\"        protected changeInputIndex(delta: number) {\" line373=\"            this.selectionStart += delta;\" line374=\"            this.selectionEnd = this.selectionStart;\" line375=\"        }\" line376=\"\" line377=\"        protected blink() {\" line378=\"            return Math.idiv(game.runtime() - this.changeTime, 500) &amp; 1;\" line379=\"        }\" line380=\"    }\" numlines=\"381\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1677\" y=\"20\"><mutation name=\"getCharForIndex\" functionid=\"Blj*6$3s@eE;0]1-44%w\"><arg name=\"index\" id=\"fc4r6gn4iuz5w9ov97vcf\" type=\"number\"></arg><arg name=\"upper\" id=\"4izhswwcneh13wm872w6lxa\" type=\"boolean\"></arg></mutation><field name=\"function_name\">getCharForIndex</field><value name=\"fc4r6gn4iuz5w9ov97vcf\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">index</field></block></value><value name=\"4izhswwcneh13wm872w6lxa\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">upper</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"stringFromCharCode\"><value name=\"code\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"typescript_expression\"><field name=\"EXPRESSION\">(upper ? 65 : 97)</field></block></value></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"argument_reporter_boolean\"><field name=\"VALUE\">upper</field></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"kwmY?fXF^c~{imSBB^;P\">digitsUpper</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">index</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">26</field></shadow></value></block></value></block></value></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"2420\" y=\"20\"><mutation name=\"askForString\" functionid=\"=wgcz]Ig]`Jv/5)kYbre\"><arg name=\"message\" id=\"w6vrfo93p0ffvlkbuc7hh\" type=\"string\"></arg><arg name=\"answerLength\" id=\"tqmhw2rjtuycmy93edwm\" type=\"number\"></arg><arg name=\"useOnScreenKeyboard\" id=\"c9dza5abmyp5fjpwnsg4\" type=\"boolean\"></arg></mutation><field name=\"function_name\">askForString</field><value name=\"w6vrfo93p0ffvlkbuc7hh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><value name=\"tqmhw2rjtuycmy93edwm\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">answerLength</field></block></value><value name=\"c9dza5abmyp5fjpwnsg4\"><block type=\"argument_reporter_boolean\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">useOnScreenKeyboard</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let p = new game.Prompt();\" numlines=\"1\" declaredvars=\"p\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const result = p.show(console.inspect(message), answerLength, useOnScreenKeyboard);\" numlines=\"1\" declaredvars=\"result\"></mutation><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0ivl:s]}}9MTRc:msVEL\">result</field></block></value></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"yets\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[],"lastSaveTime":1756007914274}